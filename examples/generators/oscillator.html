<!DOCTYPE html>
<html>
<head>

<meta charset=utf-8 />
<style type="text/css">
.text {
	font-family: "Arial";
	font-size: 22px;
	color: #00AEEF;
	padding:20px;
}
</style>

<title>Oscillator Example</title>

<script src="../../dist/Breakout.js"></script>
<script src="../libs/jquery-1.7.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {

	// dependencies
	// declare these variables so you don't have
	// to type the full namespace	
	var IOBoard = BO.IOBoard;
	var Pin = BO.Pin;
	var IOBoardEvent = BO.IOBoardEvent;
	var Oscillator = BO.generators.Oscillator;

	// set to true to print debug messages to console
	BO.enableDebugging = true;	

	var arduino = new IOBoard("localhost", 8887);
	var blinkLED;
	var fadeLED;
	var oscSquare;
	var oscSin;
	
	arduino.addEventListener(IOBoardEvent.READY, onReady);

	function onReady(event) {
					
		arduino.removeEventListener(IOBoardEvent.READY, onReady);
		
		var freq = 1.0; // time in seconds
	
		// set a pin to PWM
		arduino.setDigitalPinMode(11, Pin.PWM);
		// get a reference to the Pin object
		fadeLED = arduino.getDigitalPin(11);
		// create a new generator
		// params: wave, freq, amplitude, offset, phase, times (0 = forever)
		oscSin = new Oscillator(Oscillator.SIN, freq, 1, 0, 0, 0);
		// add the sine wave oscillator to the pin
		fadeLED.addGenerator(oscSin);
		// start the generator
		oscSin.start();

		// set digital pin 10 to output
		arduino.setDigitalPinMode(10, Pin.DOUT);
		// get a reference to the Pin object
		blinkLED = arduino.getDigitalPin(10);
		// params: wave, freq, amplitude, offset, phase, times (0 = forever)
		oscSquare = new Oscillator(Oscillator.SQUARE, freq, 1, 0, 0, 0);
		// add the square wave oscillator to the pin
		blinkLED.addGenerator(oscSquare);
		// start the generator
		oscSquare.start();

		// stop the square wave oscillator after 4 seconds
		setTimeout(stopOsc, 4000);
		// restart the square wave osciallator after 8 seconds
		setTimeout(startOsc, 8000);
				
	}

	function stopOsc() {
		oscSquare.stop();
	}

	function startOsc() {
		oscSquare.start();
	}
			
});

</script>

</head>
<body>
    
</body>
</html>â€‹