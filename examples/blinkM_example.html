<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script src="src/EventDispatcher.js"></script>
<script src="src/Pin.js"></script>
<script src="src/I2CBase.js"></script>
<script src="src/BlinkM.js"></script>
<script src="src/Arduino.js"></script>
<script type="text/javascript">
$(document).ready(function() {
		
	var ard = new Arduino("localhost", 8080);
	
	var blinkM;
	
	ard.addEventListener(ArduinoEvent.READY, onReady);

	function onReady(event) {
					
		ard.removeEventListener(ArduinoEvent.READY, onReady);
		
		blinkM = new BlinkM(ard);
		blinkM.stopScript();
		setInterval(randomColor, 2000);

	}
	
	function randomColor() {
		var red = Math.floor(Math.random() * 255);
		var green = Math.floor(Math.random() * 255);
		var blue = Math.floor(Math.random() * 255);
		
		blinkM.goToRGBColorNow([red, green, blue]);
		//blinkM.fadeToRGBColor([red, green, blue]);
	}
	
	$('#disconnect').click(function(){
		ard.close();
	});
			
});

</script>

<meta charset=utf-8 />
<style type="text/css">
body{font-family:Arial, Helvetica, sans-serif;}
#container{
	border:5px solid grey;
	width:600px;
	margin:0 auto;
	padding:10px;
}

</style>
<title>WebSockets Client</title>

</head>
<body>
  <div id="wrapper">
  
  	<div id="container">
    
    	<h1>WebSockets Client</h1>
                
        <button id="disconnect">Disconnect</button>

	</div>
  
  </div>
</body>
</html>â€‹